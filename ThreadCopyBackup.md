# 备份功能实现分析

- 实现步骤

- 作用
    - 将上一次备份的数据进行md5计算，并在第二次备份时跳过这些被标记过的数据，从而提高效率，节硬盘空间。
    
- 逻辑
    - 如果备份功能被打开
        - 判断用户指定的保存目录下是否有ThreadCopy生成的md5文件
            - 有：读取这个文件并挨个放入一个列表中，并计算线程1找到的指定类型的文件的md5值，判断这个值是否在读取到的md5列表内，
                - 有：将被视为这个文件已经被备份过，并不会把这个文件放入dataQueue队列中
                - 没有：将被视为这个文件是新的文件，在之前没有被备份过，且把这个文件放入dataQueue中，并计算出新的文件md5值，放入一个新的md5列表中，并最后在主线程中追加写入到原来的md5文件中
                
            - 没有：
                - 第一方案：将被视为用户第一次备份数据，将生成md5文件
                
    - 如果备份没有被打开
        - 不读取md5文件
        - 将计算到的md5值写入到保存目录下
        - 创建一个当前时间的文件夹，并把指定的数据找到后写入这个文件夹中
        
问题：
    - 由于数据在两个队列中，所以要处理md5文件将比较麻烦且代码的复用性高
        - dataQueue：没有重复的数据文件
        - waitQueue：重复待处理的数据文件
    - 尝试的解决方案
        - 创建一个新的队列用于存放dataQueue和waitQueue
        - 创建一个新的线程专门处理md5数据

    
        
- 队列及列表功能
- dataQueue：未重名的数据文件
- waitQueue：待处理重名的数据文件
- 